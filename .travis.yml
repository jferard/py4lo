# py4lo
language: python

python:
  - "3.6"

cache: pip

before_install:
  - sudo aptitude install -y libreoffice libreoffice-script-provider-python uno-libs3 python3-uno python3
  - export PYTHONPATH=${PYTHONPATH}:/usr/lib/python3/dist-packages

# command to run tests and install dependencies
install:
  # for coverage
  - pip install codecov
  - pip install pytest-cov
  - pip install unotools

  # dependencies
  - pip install -r requirements.txt
  - pip list

# script
script:
  - python3.6 -m pytest --cov=py4lo test

after_success:
  - codecov
